openapi: 3.0.0
info:
  title: Exchange Provider Main Api
  version: 1.0.0
servers:
  - url: http://156.253.5.52:80
paths:
  /tokens:
    get:
      tags:
        - MetaData
      summary: tokens list
      parameters:
        - name: x-api-key
          in: header
          required: true
          schema:
            type: string
          example: api_key_jeDrOHkEChxKbjfgNzHGGQbHQTdiGAej
      responses:
        "200":
          description: Successful response
          content:
            application/json: {}

  /estimate:
    post:
      tags:
        - MetaData
      summary: estimate amountOut
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                input:
                  type: string
                output:
                  type: string
                amountIn:
                  type: number
                lp:
                  type: number
              example:
                input: "USDT-TRC20"
                output: "DAI-POLYGON"
                amountIn: 3.4
              required:
                - input
                - output
                - amountIn
      parameters:
        - name: x-api-key
          in: header
          required: true
          schema:
            type: string
          example: api_key_jeDrOHkEChxKbjfgNzHGGQbHQTdiGAej
      responses:
        "200":
          description: Successful response
          content:
            application/json: {}

  /orders/get:
    post:
      tags:
        - MetaData
      summary: orders history
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                currentPage:
                  type: integer
                pageSize:
                  type: integer
              example:
                currentPage: 1
                pageSize: 10
              required:
                - currentPage
                - pageSize
      parameters:
        - name: x-api-key
          in: header
          required: true
          schema:
            type: string
          example: api_key_jeDrOHkEChxKbjfgNzHGGQbHQTdiGAej
      responses:
        "200":
          description: Successful response
          content:
            application/json: {}

  /orders/create:
    post:
      tags:
        - 1- create order
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                userId:
                  type: string
                input:
                  type: string
                output:
                  type: string
                refund:
                  type: object
                  properties:
                    address:
                      type: string
                      example: "TCEEc8kbFwDjsA3hAjeF5tA4FUd2XfHmbg"
                    tag:
                      type: string
                receiver:
                  type: object
                  properties:
                    address:
                      type: string
                      example: "0xbBe66c60B52726392ADa50f8047E18872c31cd95"
                    tag:
                      type: string
                amountIn:
                  type: number
                lp:
                  type: number

              example:
                userId: 1
                input: USDT-TRC20
                output: UNI-ERC20
                amountIn: 3.4
                lp: 3
              required:
                - userId
                - input
                - output
                - refund
                - receiver
                - amountIn

      parameters:
        - name: x-api-key
          in: header
          required: true
          schema:
            type: string
          example: api_key_jeDrOHkEChxKbjfgNzHGGQbHQTdiGAej
      responses:
        "200":
          description: Successful response
          content:
            application/json: {}

  /orders/{orderId}/1:
    get:
      tags:
        - 2- get step (SingleStep)
      parameters:
        - name: orderId
          in: path
          required: true
          schema:
            type: string
            example: 63cc108c92b19335c45bd061
        - name: x-api-key
          in: header
          required: true
          schema:
            type: string
          example: api_key_jeDrOHkEChxKbjfgNzHGGQbHQTdiGAej

      responses:
        "200":
          description: Successful response
          content:
            application/json: {}

  /orders/{orderId}/{step}:
    get:
      tags:
        - 2- get steps (MultiStep)
      parameters:
        - name: orderId
          in: path
          required: true
          schema:
            type: string
            example: 63cc108c92b19335c45bd061
        - name: step
          in: path
          required: true
          schema:
            type: integer
            example: 1
        - name: x-api-key
          in: header
          required: true
          schema:
            type: string
          example: api_key_jeDrOHkEChxKbjfgNzHGGQbHQTdiGAej
      responses:
        "200":
          description: Successful response
          content:
            application/json: {}

  /orders/set_tx_id:
    post:
      tags:
        - 3- set txId (SingleStep)
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                orderId:
                  type: string
                txId:
                  type: string
              example:
                orderId: 63cc108c92b19335c45bd061
                txId: >-
                  0xe18c3d74e043c8ebc653e22ccfd8d4612d6754d8dd6b5ea3430d7338a33c6c7e
              required:
                - orderId
                - txId
      parameters:
        - name: x-api-key
          in: header
          required: true
          schema:
            type: string
          example: api_key_jeDrOHkEChxKbjfgNzHGGQbHQTdiGAej
      responses:
        "200":
          description: Successful response
          content:
            application/json: {}
